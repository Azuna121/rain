<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Asuna's Café</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, #1e1f3a, #2e2f5c, #3e3f7f);
        font-family: 'Arial', sans-serif;
    }
    canvas {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 0;
    }

    /* Titel */
    #title {
        position: absolute;
        top: 15%;
        left: 50%;
        transform: translateX(-50%);
        color: #fff;
        font-size: 48px;
        text-shadow: 2px 2px 10px rgba(0,0,0,0.7);
        z-index: 1;
    }

    /* Typing text */
    #typedText {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #fff;
        font-size: 24px;
        text-shadow: 2px 2px 10px rgba(0,0,0,0.7);
        z-index: 1;
        white-space: pre-wrap;
        width: 60%;
        line-height: 1.5;
        text-align: center;
    }

    /* Buttons */
    .centerButton {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        padding: 12px 28px;
        font-size: 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        background: rgba(255,255,255,0.2);
        color: #fff;
        text-shadow: 1px 1px 5px rgba(0,0,0,0.5);
        backdrop-filter: blur(5px);
        z-index: 1;
        transition: background 0.3s, transform 0.2s;
        animation: float 3s ease-in-out infinite, pulse 2s infinite;
    }
    .centerButton:hover {
        background: rgba(255,255,255,0.4);
        transform: translateX(-50%) scale(1.1);
    }

    #aboutButton { top: 55%; }
    #joinButton { top: 65%; }
    #goBackButton { top: 85%; display:none; }

    /* Knipperende cursor */
    .cursor {
        display:inline-block;
        width:1px;
        background:white;
        margin-left:2px;
        animation: blink 1s steps(2, start) infinite;
        vertical-align: bottom;
    }

    /* Animaties */
    @keyframes blink {
        0%, 50% { opacity:1; }
        51%, 100% { opacity:0; }
    }
    @keyframes float {
        0%, 100% { transform: translateX(-50%) translateY(0px); }
        50% { transform: translateX(-50%) translateY(-5px); }
    }
    @keyframes pulse {
        0%, 100% { box-shadow: 0 0 10px rgba(255,255,255,0.4); }
        50% { box-shadow: 0 0 20px rgba(255,255,255,0.8); }
    }
</style>
</head>
<body>
<canvas id="animeCanvas"></canvas>

<div id="title">Asuna's Café</div>
<div id="typedText"></div>

<button id="aboutButton" class="centerButton">About</button>
<button id="joinButton" class="centerButton">Join</button>
<button id="goBackButton" class="centerButton">Go Back</button>

<script>
const canvas = document.getElementById('animeCanvas');
const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
});

/* -------------------------
   Anime background elements
------------------------- */
class Petal {
    constructor() { this.reset(); }
    reset() {
        this.x = Math.random() * width;
        this.y = Math.random() * -height;
        this.radius = 2 + Math.random() * 5;
        this.speedY = 0.5 + Math.random() * 2.5;
        this.speedX = Math.random() * 1 - 0.5;
        this.angle = Math.random() * Math.PI * 2;
        this.spin = Math.random() * 0.02 - 0.01;
        this.color = `rgba(255, ${150 + Math.random()*50}, ${180 + Math.random()*50}, 0.8)`;
    }
    update() {
        this.y += this.speedY;
        this.x += this.speedX + Math.sin(this.angle*2);
        this.angle += this.spin;
        if(this.y > height || this.x < 0 || this.x > width) this.reset();
    }
    draw(ctx) {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle);
        ctx.beginPath();
        ctx.arc(0, 0, this.radius, 0, Math.PI*2);
        ctx.fillStyle = this.color;
        ctx.fill();
        ctx.restore();
    }
}

class Glow {
    constructor() { this.reset(); }
    reset() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.radius = Math.random() * 2 + 1;
        this.alpha = Math.random();
        this.alphaSpeed = Math.random() * 0.02 + 0.005;
        this.speedX = Math.random()*0.5-0.25;
        this.speedY = Math.random()*0.5-0.25;
    }
    update() {
        this.alpha += this.alphaSpeed;
        if(this.alpha > 1 || this.alpha < 0) this.alphaSpeed *= -1;
        this.x += this.speedX;
        this.y += this.speedY;
        if(this.x < 0) this.x = width;
        if(this.x > width) this.x = 0;
        if(this.y < 0) this.y = height;
        if(this.y > height) this.y = 0;
    }
    draw(ctx) {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);
        ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;
        ctx.fill();
    }
}

/* -------------------------
   Initialize objects
------------------------- */
const petals = [];
for(let i=0;i<200;i++) petals.push(new Petal());

const glows = [];
for(let i=0;i<100;i++) glows.push(new Glow());

/* -------------------------
   Animation loop
------------------------- */
function animate() {
    const gradient = ctx.createLinearGradient(0,0,0,height);
    gradient.addColorStop(0, "#1e1f3a");
    gradient.addColorStop(1, "#3e3f7f");
    ctx.fillStyle = gradient;
    ctx.fillRect(0,0,width,height);

    petals.forEach(p => { p.update(); p.draw(ctx); });
    glows.forEach(g => { g.update(); g.draw(ctx); });

    requestAnimationFrame(animate);
}
animate();

/* -------------------------
   Typing text effect with cursor
------------------------- */
const textContainer = document.getElementById('typedText');
const aboutButton = document.getElementById('aboutButton');
const joinButton = document.getElementById('joinButton');
const goBackButton = document.getElementById('goBackButton');

const fullText = `Asuna’s Café is a cozy server where all kinds of people can come together and chat ♡|
You can talk about anything, meet new friends and relax in a friendly vibe.|
We also have a few café style RP channels for fun! ☕|
Need comfort or someone to listen to you? You’re always welcome (No one ignores you.)`;

let typingSpeed = 20; // sneller
let i = 0;

function typeText() {
    if(i <= fullText.length) {
        let displayText = '';
        for(let j=0;j<i;j++){
            displayText += (fullText[j]==='|'?'\n':fullText[j]);
        }
        textContainer.innerHTML = displayText + '<span class="cursor"></span>';
        i++;
        setTimeout(typeText, typingSpeed);
    } else {
        goBackButton.style.display = 'block';
    }
}

/* -------------------------
   Button events
------------------------- */
aboutButton.addEventListener('click', () => {
    aboutButton.style.display = 'none';
    joinButton.style.display = 'none';
    i = 0;
    textContainer.innerHTML = '';
    typeText();
});

goBackButton.addEventListener('click', () => {
    textContainer.innerHTML = '';
    goBackButton.style.display = 'none';
    aboutButton.style.display = 'block';
    joinButton.style.display = 'block';
});

joinButton.addEventListener('click', () => {
    window.open('https://discord.gg/5Phsb9wDdN', '_blank');
});
</script>
</body>
</html>
