<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anime Vibes Screensaver</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, #1e1f3a, #2e2f5c, #3e3f7f);
        font-family: 'Arial', sans-serif;
    }
    canvas {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 0;
    }

    /* Typing text */
    #typedText {
        position: absolute;
        top: 45%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #fff;
        font-size: 24px;
        text-shadow: 2px 2px 10px rgba(0,0,0,0.7);
        z-index: 1;
        white-space: pre-wrap;
        width: 60%;
        line-height: 1.5;
    }
</style>
</head>
<body>
<canvas id="animeCanvas"></canvas>

<div id="typedText"></div>

<script>
const canvas = document.getElementById('animeCanvas');
const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
});

/* -------------------------
   Anime background elements
------------------------- */
class Petal {
    constructor() { this.reset(); }
    reset() {
        this.x = Math.random() * width;
        this.y = Math.random() * -height;
        this.radius = 2 + Math.random() * 5;
        this.speedY = 0.5 + Math.random() * 2.5;
        this.speedX = Math.random() * 1 - 0.5;
        this.angle = Math.random() * Math.PI * 2;
        this.spin = Math.random() * 0.02 - 0.01;
        this.color = `rgba(255, ${150 + Math.random()*50}, ${180 + Math.random()*50}, 0.8)`;
    }
    update() {
        this.y += this.speedY;
        this.x += this.speedX + Math.sin(this.angle*2);
        this.angle += this.spin;
        if(this.y > height || this.x < 0 || this.x > width) this.reset();
    }
    draw(ctx) {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle);
        ctx.beginPath();
        ctx.arc(0, 0, this.radius, 0, Math.PI*2);
        ctx.fillStyle = this.color;
        ctx.fill();
        ctx.restore();
    }
}

class Glow {
    constructor() { this.reset(); }
    reset() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.radius = Math.random() * 2 + 1;
        this.alpha = Math.random();
        this.alphaSpeed = Math.random() * 0.02 + 0.005;
        this.speedX = Math.random()*0.5-0.25;
        this.speedY = Math.random()*0.5-0.25;
    }
    update() {
        this.alpha += this.alphaSpeed;
        if(this.alpha > 1 || this.alpha < 0) this.alphaSpeed *= -1;
        this.x += this.speedX;
        this.y += this.speedY;
        if(this.x < 0) this.x = width;
        if(this.x > width) this.x = 0;
        if(this.y < 0) this.y = height;
        if(this.y > height) this.y = 0;
    }
    draw(ctx) {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);
        ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;
        ctx.fill();
    }
}

/* -------------------------
   Initialize objects
------------------------- */
const petals = [];
for(let i=0;i<200;i++) petals.push(new Petal());

const glows = [];
for(let i=0;i<100;i++) glows.push(new Glow());

/* -------------------------
   Animation loop
------------------------- */
function animate() {
    const gradient = ctx.createLinearGradient(0,0,0,height);
    gradient.addColorStop(0, "#1e1f3a");
    gradient.addColorStop(1, "#3e3f7f");
    ctx.fillStyle = gradient;
    ctx.fillRect(0,0,width,height);

    petals.forEach(p => { p.update(); p.draw(ctx); });
    glows.forEach(g => { g.update(); g.draw(ctx); });

    requestAnimationFrame(animate);
}
animate();

/* -------------------------
   Anime typing text effect
------------------------- */
const textContainer = document.getElementById('typedText');
const fullText = `Asuna’s Café is a cozy server where all kinds of people can come together and chat ♡|
You can talk about anything, meet new friends and relax in a friendly vibe.|
We also have a few café style RP channels for fun! ☕|
Need comfort or someone to listen to you? You’re always welcome (No one ignores you.)`;

let i = 0;
let typingSpeed = 50; // ms per character

function type() {
    if(i < fullText.length) {
        if(fullText[i] === '|') {
            textContainer.innerHTML += '\n';
        } else {
            textContainer.innerHTML += fullText[i];
        }
        i++;
        setTimeout(type, typingSpeed);
    }
}

type();
</script>
</body>
</html>
